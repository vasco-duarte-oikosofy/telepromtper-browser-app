<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teleprompter</title>
<style>
  body {
    font-family: Arial, sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0;
    padding: 0;
    height: 100vh;
    overflow: hidden;
    background: #222;
    color: #fff;
  }
  #teleprompter {
    margin-top: 20px;
    overflow: hidden;
    width: 80%;
    height: 60%;
    border: 2px solid #fff;
    padding: 10px;
    box-sizing: border-box;
  }
  #text {
    white-space: pre-wrap;
    position: relative;
    font-size: 24px;
    line-height: 1.5;
  }
  #controls {
    margin-top: 20px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }
  button, input, textarea {
    font-size: 16px;
  }
  textarea {
    width: 300px;
  }
</style>
</head>
<body>

<h1>Teleprompter</h1>

<div id="teleprompter">
  <div id="text"></div>
</div>

<div id="controls">
  <label>
    Text:
    <textarea id="inputText" rows="5" placeholder="Paste your script here..."></textarea>
  </label>
  <label>
    Font Size:
    <input type="number" id="fontSize" value="24" min="10" max="100"> px
  </label>
  <label>
    Scroll Speed:
    <input type="number" id="speed" value="2" min="1" max="10"> px/s
  </label>
  <button id="startBtn">Start</button>
  <button id="stopBtn">Stop</button>
</div>

<script>
  const textElement = document.getElementById('text');
  const inputText = document.getElementById('inputText');
  const fontSizeInput = document.getElementById('fontSize');
  const speedInput = document.getElementById('speed');
  const startBtn = document.getElementById('startBtn');
  const stopBtn = document.getElementById('stopBtn');

  let scrollPosition = 0;
  let isScrolling = false;
  let lastTimestamp = 0;

  function scrollText(timestamp) {
    if (!isScrolling) return;

    // Calculate elapsed time since last frame for smooth scrolling
    const elapsed = timestamp - lastTimestamp;
    lastTimestamp = timestamp;

    const speed = Number(speedInput.value); // Get user-defined speed
    scrollPosition -= (speed * elapsed) / 50; // Adjust speed for smooth scrolling
    textElement.style.top = `${scrollPosition}px`;

    // Stop if end of text reaches the top of the container
    if (Math.abs(scrollPosition) >= textElement.scrollHeight) {
      stopScroll();
    } else {
      requestAnimationFrame(scrollText); // Continue scrolling
    }
  }

  function startScroll() {
    textElement.textContent = inputText.value;
    textElement.style.fontSize = fontSizeInput.value + 'px';
    scrollPosition = 0;
    textElement.style.top = '100%';
    isScrolling = true;
    lastTimestamp = performance.now();
    requestAnimationFrame(scrollText);
  }

  function stopScroll() {
    isScrolling = false;
  }

  // Attach event listeners
  startBtn.addEventListener('click', startScroll);
  stopBtn.addEventListener('click', stopScroll);
</script>

</body>
</html>